<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>news</title>
    <style>
        * {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            font-size: 1em;
            margin: 0;
            padding: 0;
            gap: 10px;
        }
        body {
            background-color: #1c1e27;
            color: #fff;
            margin: 30px;
        }
        a, .article-link { color: rgb(145, 145, 145); }
        hr { border: none; border-top: 1px solid rgba(145, 145, 145, .2); }
        #content {
            display: flex;
            flex-direction: row;
            gap: 30px;
        }
        .publication { display: flex; flex-direction: column; flex: 1;}
        .publication-header {
            display: flex;
            flex-direction: row;
            align-items: center;
        }
        .articles { display: flex; flex-direction: column; }
        .article { display: flex; align-items: center; }
        .article-image { max-width: 200px; }
        .article-details { display: flex; flex-direction: column; flex: 1; width: 0; }
        .article-link {
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        @media (max-width: 1100px) {
            .article-image { max-width: 150px; }
        }
        @media (max-width: 900px) {
            #content {flex-direction: column; }
        }
    </style>
</head>

<body>
    <span id="content">
        {{#each publications}}
        <div class="publication">
            <div class="publication-header">
                <h1>{{this.name}}</h1>
                <a href="{{this.url}}">{{this.url}}</a>
            </div>
            <div class="articles">
                {{#each this.articles}}<hr>
                <div class="article">
                    {{#if this.image}}
                    <img src="https://img.248.no/image.png?w=400&sampling=lanczos&url={{this.image}}" alt="{{this.title}}" class="article-image">
                    {{else}}
                    <div class="article-image"></div>
                    {{/if}}
                    <div class="article-details">
                        <h2>{{this.title}}</h2>
                        <p class="article-link"><a href="{{this.link}}">{{this.link}}</a></p>
                        <p>{{this.formatted_published_time}}</p>
                    </div>
                </div>
                {{/each}}
            </div>
        </div>
        {{/each}}
    </span>
</body>
</html>
